(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{12:function(e,t,s){e.exports={profileCard:"Profile_profileCard__Z-x7K",profileCard__header:"Profile_profileCard__header__3L8An",profileCard__body:"Profile_profileCard__body__1ortF",profileCard__name:"Profile_profileCard__name__2P6K8",profileCard__status:"Profile_profileCard__status__3HlGh",profileCard__status_noStatus:"Profile_profileCard__status_noStatus__350Ny",profileCard__status_input:"Profile_profileCard__status_input__3GhNF",profileCard__social:"Profile_profileCard__social__3QhFf",profileCard__socialIcon:"Profile_profileCard__socialIcon__2-ToC",profileCard__footer:"Profile_profileCard__footer__1FAP1",profileCard__btn:"Profile_profileCard__btn__2WoUe"}},131:function(e,t,s){e.exports={followBtn:"FollowBtn_followBtn__2pc6k"}},163:function(e,t,s){},185:function(e,t,s){},21:function(e,t,s){e.exports={active:"Navbar_active__21R_N",nav:"Navbar_nav__3cHYR",nav__section:"Navbar_nav__section__3VyUC",nav__link:"Navbar_nav__link__pgcU_"}},28:function(e,t,s){e.exports={users:"Users_users__3CRqz",userCard:"Users_userCard__2mlKw",userCard__header:"Users_userCard__header__11X9A",userCard__avatar:"Users_userCard__avatar__l_n4M",userCard__body:"Users_userCard__body__XxVl6",userCard__name:"Users_userCard__name__2AZUI",userCard__status:"Users_userCard__status__26Dyb",userCard__social:"Users_userCard__social__2UFdR",userCard__socialIcon:"Users_userCard__socialIcon__3WaXd",userCard__footer:"Users_userCard__footer__1sy3x",userCard__btn:"Users_userCard__btn__q-2zD"}},286:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),r=s(66),i=s.n(r),o=(s(163),s(24)),c=s(25),l=s(27),u=s(26),d=s(11),j=s(10),_=s(8),b=s(5),p=s(42),f=s(129).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"cd8fc3f1-bf2d-448b-b9c6-467846b31684"}}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return f.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e}))},O=function(e){return f.post("follow/".concat(e))},m=function(e){return f.delete("follow/".concat(e))},g=function(e){return f.get("profile/".concat(e))},x=function(e){return f.get("profile/status/".concat(e))},v=function(e){return f.put("profile/status",{status:e})},C=function(){return f.get("auth/me")},N=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f.post("auth/login",{email:e,password:t,rememberMe:s})},P=function(){return f.delete("auth/login")},w={userId:null,email:null,login:null,isAuth:!1},S="SET_USER_DATA",y=function(e,t,s,a){return{type:S,payload:{userId:e,email:t,login:s,isAuth:a}}},T=function(){return function(e){C().then((function(t){if(0===t.data.resultCode){var s=t.data.data,a=s.id,n=s.email,r=s.login;e(y(a,n,r,!0))}}))}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(b.a)(Object(b.a)({},e),t.payload);default:return e}},I={initialized:!1},U="INIT_SUCCESS",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},F=(s(185),s(0)),M=function(e){return Object(F.jsx)("div",{className:"loadingio-spinner-dual-ball-e7xccrx4usu",children:Object(F.jsxs)("div",{className:"ldio-5tby4l7a7k7",children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})})},z=s(125),E=s(126),D=s(89),L=s.n(D),R=Object(E.a)({form:"login"})((function(e){return Object(F.jsxs)("form",{className:L.a.loginForm,onSubmit:e.handleSubmit,children:[Object(F.jsx)("div",{children:Object(F.jsx)(z.a,{component:"input",name:"email",placeholder:"email"})}),Object(F.jsx)("div",{children:Object(F.jsx)(z.a,{component:"input",name:"password",type:"password",placeholder:"password"})}),Object(F.jsxs)("div",{children:[Object(F.jsx)(z.a,{component:"input",type:"checkbox",name:"rememberMe"})," remember me"]}),e.error&&Object(F.jsx)("div",{className:L.a.loginForm__error,children:e.error}),Object(F.jsx)("div",{children:Object(F.jsx)("button",{children:"Log in"})})]})})),H=Object(d.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,s){return function(a){N(e,t,s).then((function(e){if(0===e.data.resultCode)a(T());else{var t=e.data.messages.length>0?e.data.messages[0]:"Unknown error";a(Object(p.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(F.jsx)(j.a,{to:"/profile"}):Object(F.jsxs)("div",{children:[Object(F.jsx)("h2",{children:"Log In"}),Object(F.jsx)(R,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),G=s(13),B=s(39),Y=s.n(B),W=function(e){var t=e.img?e.img:"http://www.thisblogrules.com/wp-content/uploads/2010/02/mickey-mouse-for-facebook.jpg";switch(e.size){case"small":return Object(F.jsx)("div",{className:Y.a.small,children:Object(F.jsx)("img",{src:t})});case"middle":return Object(F.jsx)("div",{className:Y.a.middle,children:Object(F.jsx)("img",{src:t})});case"big":return Object(F.jsx)("div",{className:Y.a.big,children:Object(F.jsx)("img",{src:t})});default:return Object(F.jsx)("div",{className:Y.a.avatar,children:Object(F.jsx)("img",{src:t})})}},q=s(47),K=s.n(q),V=function(e){return Object(F.jsxs)("div",{className:K.a.header,children:[Object(F.jsx)("div",{className:K.a.header__logo,children:"My App"}),Object(F.jsxs)("div",{className:K.a.header__login,children:[Object(F.jsx)(W,{size:"small"}),Object(F.jsx)("div",{children:e.isAuth?Object(F.jsxs)("div",{children:[Object(F.jsx)(G.b,{to:"/profile",children:e.login}),"  ",Object(F.jsx)("div",{className:K.a.logout,onClick:e.logOut,children:"Log Out"})]}):Object(F.jsxs)("div",{children:[" ",Object(F.jsx)("div",{className:K.a.unknown,children:"Unknown User"}),"  ",Object(F.jsx)(G.b,{to:"/login",children:"Log In"})]})})]})]})},X=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(F.jsx)(V,Object(b.a)({},this.props))}}]),s}(a.Component),J=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setUserData:y,getUserDataTC:T,logOut:function(){return function(e){P().then((function(t){0===t.data.resultCode&&e(y(null,null,null,!1))}))}}})(X),Z=s(21),Q=s.n(Z),$=function(e){return Object(F.jsxs)("div",{className:Q.a.nav,children:[Object(F.jsx)("div",{className:Q.a.nav__section,children:Object(F.jsx)(G.b,{activeClassName:Q.a.active,className:Q.a.nav__link,to:"/profile",children:"Profile"})}),Object(F.jsx)("div",{className:Q.a.nav__section,children:Object(F.jsx)(G.b,{activeClassName:Q.a.active,className:Q.a.nav__link,to:"/dialogs",children:"Messages"})}),Object(F.jsx)("div",{className:Q.a.nav__section,children:Object(F.jsx)(G.b,{activeClassName:Q.a.active,className:Q.a.nav__link,to:"/users",children:"Users"})})]})},ee=s(12),te=s.n(ee),se=s.p+"static/media/facebook.5ed5d9d3.svg",ae=s.p+"static/media/instagram.172f3110.svg",ne=s.p+"static/media/twitter.6456a4ea.svg",re=s.p+"static/media/youtube.29c11134.svg",ie=s(34),oe={profile:null,status:"",posts:[{id:1,postText:"In some ways, programming is like painting. You start with a blank canvas and certain basic raw materials. You use a combination of science, art, and craft to determine what to do with them."},{id:2,postText:"The best error message is the one that never shows up."}]},ce="SET_PROFILE",le="SET_STATUS",ue="ADD_POST",de=function(e){return{type:le,status:e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case le:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case ue:return Object(b.a)(Object(b.a)({},e),{},{posts:[{id:3,postText:t.text}].concat(Object(ie.a)(e.posts))});default:return e}},_e=function(e){return Object(d.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return!1===t.isAuth?Object(F.jsx)(j.a,{to:"/login"}):Object(F.jsx)("div",{children:Object(F.jsx)(e,Object(b.a)({},t))})}))},be=s(57),pe=(n.a.Component,function(e){var t=Object(a.useState)(!1),s=Object(be.a)(t,2),n=s[0],r=s[1],i=Object(a.useState)(e.status),o=Object(be.a)(i,2),c=o[0],l=o[1];return Object(F.jsx)("div",{children:n?Object(F.jsx)("input",{className:te.a.profileCard__status_input,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(c)},autoFocus:"true",value:c}):Object(F.jsx)("span",{className:e.status?" ":te.a.profileCard__status_noStatus,onDoubleClick:function(){r(!0)},children:e.status?e.status:"no status"})})}),fe=s(35),he=s.n(fe),Oe=function(e){return e.profile?Object(F.jsxs)("div",{className:he.a.post,children:[Object(F.jsx)("div",{className:he.a.post__avatar,children:Object(F.jsx)(W,{size:"middle",img:e.profile.photos.small})}),Object(F.jsx)("div",{className:he.a.post__text,children:e.postText})]}):Object(F.jsx)(M,{})},me=function(e){var t=e.posts.map((function(t){return Object(F.jsx)(Oe,{postText:t.postText,profile:e.profile})}));return Object(F.jsx)("div",{className:he.a.posts,children:t})},ge=function(e){if(!e)return"This field is required"},xe=function(e){if(e&&e.length>300)return"Can't be longer than 300 symbols"},ve=s(133),Ce=s(94),Ne=s.n(Ce),Pe=function(e){var t=e.input,s=e.meta,a=Object(ve.a)(e,["input","meta"]),n=s.touched&&s.error;return Object(F.jsxs)("div",{className:n?Ne.a.error:Ne.a.postForm,children:[Object(F.jsx)("textarea",Object(b.a)(Object(b.a)({},t),a)),Object(F.jsx)("div",{children:n&&Object(F.jsxs)("span",{children:[" ",s.error]})})]})},we=Object(E.a)({form:"addNewPostForm"})((function(e){return Object(F.jsxs)("form",{className:he.a.form,onSubmit:e.handleSubmit,children:[Object(F.jsx)(z.a,{validate:[ge,xe],name:"newPostText",component:Pe,placeholder:"Your post..."}),Object(F.jsx)("button",{className:he.a.form__btn,children:"Add post"})]})})),Se=function(e){return e.profile?Object(F.jsxs)("div",{className:te.a.profileCard,children:[Object(F.jsx)("div",{className:te.a.profileCard__header,children:Object(F.jsx)(W,{img:e.profile.photos.small,size:"big"})}),Object(F.jsxs)("div",{className:te.a.profileCard__body,children:[Object(F.jsx)("div",{className:te.a.profileCard__name,children:e.profile.fullName}),Object(F.jsx)("div",{className:te.a.profileCard__status,children:Object(F.jsx)(pe,{status:e.status,updateStatus:e.updateStatus})}),Object(F.jsxs)("div",{className:te.a.profileCard__social,children:[Object(F.jsx)("div",{className:te.a.profileCard__socialIcon,children:Object(F.jsx)("img",{src:re})}),Object(F.jsx)("div",{className:te.a.profileCard__socialIcon,children:Object(F.jsx)("img",{src:ae})}),Object(F.jsx)("div",{className:te.a.profileCard__socialIcon,children:Object(F.jsx)("img",{src:ne})}),Object(F.jsx)("div",{className:te.a.profileCard__socialIcon,children:Object(F.jsx)("img",{src:se})})]})]}),Object(F.jsx)("div",{className:te.a.profileCard__footer,children:Object(F.jsx)("div",{className:te.a.profileCard__btn,children:Object(F.jsx)("button",{disabled:"true",children:"Follow"})})})]}):Object(F.jsx)(M,{})},ye=function(e){return Object(F.jsxs)("div",{children:[Object(F.jsx)(Se,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(F.jsx)(we,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(F.jsx)(me,{posts:e.posts,profile:e.profile})]})},Te=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){var t=e.props.match.params.userId;t||(t=e.props.authUserId),e.props.setProfile(t),e.props.setStatus(t)},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(F.jsx)(ye,Object(b.a)(Object(b.a)({},this.props),{},{updateStatus:this.props.updateStatus,status:this.props.status,profile:this.props.profile,setProfile:this.props.setProfile,posts:this.props.posts}))}}]),s}(a.Component),Ae=Object(_.d)(Object(d.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,posts:e.profilePage.posts,authUserId:e.auth.userId}}),{setProfile:function(e){return function(t){g(e).then((function(e){var s;t((s=e.data,{type:ce,profile:s}))}))}},setStatus:function(e){return function(t){x(e).then((function(e){t(de(e.data))}))}},updateStatus:function(e){return function(t){v(e).then((function(s){0===s.data.resultCode&&t(de(e))}))}},addPost:function(e){return{type:ue,text:e}}}),_e,j.g)(Te),Ie={users:[],pageSize:100,totalCount:100,currentPage:1,isFetching:!0,inProgress:[],portionSize:5},Ue="SET_USERS",ke="CHANGE_CURRENT_PAGE",Fe="SET_TOTAL_USERS_COUNT",Me="TOGGLE_IS_FETCHING",ze="TOGGLE_IN_PROGRESS",Ee="FOLLOW",De="UNFOLLOW",Le=function(e){return{type:Ue,users:e}},Re=function(e){return{type:Fe,count:e}},He=function(e){return{type:Me,isFetching:e}},Ge=function(e,t){return{type:ze,inProgress:e,userId:t}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(b.a)(Object(b.a)({},e),{},{users:Object(ie.a)(t.users)});case Me:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case Fe:return Object(b.a)(Object(b.a)({},e),{},{totalCount:t.count});case ke:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.page});case Ee:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!0}):e}))});case De:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!1}):e}))});case ze:return Object(b.a)(Object(b.a)({},e),{},{inProgress:t.inProgress?[].concat(Object(ie.a)(e.inProgress),[t.userId]):e.inProgress.filter((function(e){return e!=t.userId}))});default:return e}},Ye=s(28),We=s.n(Ye),qe=s(40),Ke=s.n(qe),Ve=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),s=[],n=1;n<=t;n++)s.push(n);var r=Math.ceil(t/e.portionSize),i=Object(a.useState)(1),o=Object(be.a)(i,2),c=o[0],l=o[1],u=(c-1)*e.portionSize+1,d=c*e.portionSize,j=s.filter((function(e){return e>=u&&e<=d})).map((function(t){return Object(F.jsx)("span",{onClick:function(){return e.selectPage(t)},className:e.currentPage===t?Ke.a.pagination__btn+" "+Ke.a.current:Ke.a.pagination__btn,children:t})}));return Object(F.jsxs)("div",{className:Ke.a.pagination,children:[Object(F.jsx)("button",{disabled:c<2,onClick:function(){l(c-1)},className:Ke.a.next,children:"PREV"}),j,Object(F.jsx)("button",{disabled:c===r,onClick:function(){l(c+1)},className:Ke.a.next,children:"NEXT"})]})},Xe=(s(131),function(e){return Object(F.jsxs)("div",{className:We.a.userCard,children:[Object(F.jsx)("div",{id:e.id,className:We.a.userCard__header,children:Object(F.jsx)(G.b,{to:"/profile/"+e.id,children:Object(F.jsx)(W,{img:e.img,className:Y.a.middleAvatar,size:"middle"})})}),Object(F.jsxs)("div",{className:We.a.userCard__body,children:[Object(F.jsx)("div",{className:We.a.userCard__name,children:e.name}),Object(F.jsx)("div",{className:We.a.userCard__status,children:e.status})]}),Object(F.jsx)("div",{className:We.a.userCard__footer,children:Object(F.jsxs)("div",{className:We.a.userCard__btn,children:[e.followed?Object(F.jsx)("button",{disabled:e.inProgress.some((function(t){return t==e.id})),onClick:e.unfollow,children:"Unfollow"}):Object(F.jsx)("button",{disabled:e.inProgress.some((function(t){return t==e.id})),onClick:e.follow,children:"Follow"}),Object(F.jsx)("button",{children:"Message"})]})})]})}),Je=function(e){var t=e.users.map((function(t){return Object(F.jsx)(Xe,{id:t.id,img:t.photos.small,name:t.name,status:t.status,followed:t.followed,inProgress:e.inProgress,follow:function(){return e.follow(t.id)},unfollow:function(){return e.unfollow(t.id)}})}));return Object(F.jsx)(F.Fragment,{children:e.isFetching?Object(F.jsx)(M,{}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:We.a.pagination,children:Object(F.jsx)(Ve,Object(b.a)(Object(b.a)({},e),{},{selectPage:e.selectPage}))}),Object(F.jsx)("div",{className:We.a.users,children:t})]})})},Ze=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.getUsersTC(e.props.currentPage,e.props.pageSize)},e.changePage=function(t){e.props.changeCurrentPage(t),e.props.getUsersTC(t,e.props.pageSize)},e.follow=function(t){e.props.followTC(t)},e.unfollow=function(t){e.props.unfollowTC(t)},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(F.jsx)("div",{children:Object(F.jsx)(Je,{users:this.props.users,totalCount:this.props.totalCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,isFetching:this.props.isFetching,selectPage:this.changePage,follow:this.follow,unfollow:this.unfollow,inProgress:this.props.inProgress,portionSize:this.props.portionSize})})}}]),s}(a.Component),Qe=Object(d.b)((function(e){return{users:e.usersPage.users,isFetching:e.usersPage.isFetching,pageSize:e.usersPage.pageSize,totalCount:e.usersPage.totalCount,currentPage:e.usersPage.currentPage,inProgress:e.usersPage.inProgress,portionSize:e.usersPage.portionSize}}),{getUsersTC:function(e,t){return function(s){s(He(!0)),h(e,t).then((function(e){s(He(!1)),s(Le(e.data.items)),s(Re(e.data.totalCount))}))}},setUsers:Le,toggleIsFetching:He,setTotalUsersCount:Re,changeCurrentPage:function(e){return{type:ke,page:e}},followTC:function(e){return function(t){t(Ge(!0,e)),O(e).then((function(s){0===s.data.resultCode&&(0===s.data.resultCode&&t(function(e){return{type:Ee,userId:e}}(e)),t(Ge(!1,e)))}))}},unfollowTC:function(e){return function(t){t(Ge(!0,e)),m(e).then((function(s){0===s.data.resultCode&&(0===s.data.resultCode&&t(function(e){return{type:De,userId:e}}(e)),t(Ge(!1,e)))}))}}})(Ze),$e=s(95),et=s.n($e),tt=function(e){return Object(F.jsxs)("div",{children:[Object(F.jsx)(W,{size:"small"}),e.name]})},st=function(e){var t=e.contacts.map((function(e){return Object(F.jsx)(tt,{id:e.id,name:e.name})}));return Object(F.jsx)("div",{children:t})},at=Object(E.a)({form:"addNewMessage"})((function(e){return Object(F.jsx)("div",{children:Object(F.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(F.jsx)(z.a,{component:Pe,placeholder:"Your message...",name:"newMessageBody",validate:[ge,xe]}),Object(F.jsx)("button",{children:"Send"})]})})})),nt=s(29),rt=s.n(nt),it=(s.p,function(e){return Object(F.jsxs)("div",{className:rt.a.message,children:[Object(F.jsx)("div",{className:rt.a.message__header,children:Object(F.jsx)(W,{size:"small"})}),Object(F.jsx)("div",{className:rt.a.message__body,children:e.text}),Object(F.jsx)("div",{className:rt.a.message__footer,children:Object(F.jsx)("div",{className:rt.a.message__delete,children:Object(F.jsx)("i",{onClick:e.deleteMessage,className:"fa fa-trash-o"})})})]})}),ot=Object(_.d)(_e)((function(e){var t=e.messages.map((function(t){return Object(F.jsx)(it,{id:t.id,text:t.text,deleteMessage:function(){return e.deleteMessage(t.id)}})}));return Object(F.jsxs)("div",{className:rt.a.messages,children:[t,Object(F.jsx)(at,{onSubmit:function(t){e.addMessage(t.newMessageBody)}})]})})),ct={contacts:[{id:1,name:"Rami"},{id:2,name:"Irina"},{id:3,name:"Sergij"},{id:4,name:"Alya"}],messages:[{id:1,text:"Hi, how are you?"},{id:2,text:"I miss you"},{id:3,text:"Everything is great"},{id:4,text:"Hahahah, lol"}]},lt="users-app/dialogs/ADD_MESSAGE",ut="users-app/dialogs/DELETE_MESSAGE",dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt:return Object(b.a)(Object(b.a)({},e),{},{messages:[].concat(Object(ie.a)(e.messages),[{id:5,text:t.text}])});case ut:return Object(b.a)(Object(b.a)({},e),{},{messages:Object(ie.a)(e.messages.filter((function(e){return e.id!=t.messageId})))});default:return e}},jt=function(e){return e.dialogsPage.contacts},_t=function(e){return e.dialogsPage.messages},bt=Object(_.d)(_e,Object(d.b)((function(e){return{contacts:jt(e),messages:_t(e)}}),{addMessage:function(e){return{type:lt,text:e}},deleteMessage:function(e){return{type:ut,messageId:e}}}))((function(e){return Object(F.jsxs)("div",{className:rt.a.dialogs,children:[Object(F.jsx)(st,{contacts:e.contacts}),Object(F.jsx)(ot,{messages:e.messages,addMessage:e.addMessage,deleteMessage:e.deleteMessage})]})})),pt=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.initializeApp()},e}return Object(c.a)(s,[{key:"render",value:function(){return this.props.initialized?Object(F.jsxs)("div",{className:et.a.app,children:[Object(F.jsx)(J,{}),Object(F.jsx)($,{}),Object(F.jsx)("div",{className:et.a.content,children:Object(F.jsxs)(j.d,{children:[Object(F.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(F.jsx)(Ae,{})}}),Object(F.jsx)(j.b,{path:"/users",render:function(){return Object(F.jsx)(Qe,{})}}),Object(F.jsx)(j.b,{path:"/dialogs",render:function(){return Object(F.jsx)(bt,{})}}),Object(F.jsx)(j.b,{path:"/login",render:function(){return Object(F.jsx)(H,{})}})]})})]}):Object(F.jsx)(M,{})}}]),s}(n.a.Component),ft=Object(_.d)(j.g,Object(d.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(T());Promise.all([t]).then((function(){return e({type:U})}))}}}))(pt),ht=s(132),Ot=s(127),mt=Object(_.c)({usersPage:Be,dialogsPage:dt,profilePage:je,auth:A,form:Ot.a,app:k}),gt=Object(_.e)(mt,Object(_.a)(ht.a));window.store=gt;var xt=gt,vt=function(){i.a.render(Object(F.jsx)(G.a,{children:Object(F.jsx)(d.a,{store:xt,children:Object(F.jsx)(ft,{})})}),document.getElementById("root"))};vt(xt.getState()),xt.subscribe(vt)},29:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__2Gkkf",messages:"Dialogs_messages__1J3nn",message:"Dialogs_message__3-b-X",message__delete:"Dialogs_message__delete__2n1C4"}},35:function(e,t,s){e.exports={form:"MyPosts_form__2qNQM",form__btn:"MyPosts_form__btn__31ws3",post:"MyPosts_post__120gb",post__text:"MyPosts_post__text__2ai0k",post__avatar:"MyPosts_post__avatar__2eB62"}},39:function(e,t,s){e.exports={avatar:"Avatar_avatar__3V-M2",big:"Avatar_big__WZIev",middle:"Avatar_middle__D-imu",small:"Avatar_small__2HZdi"}},40:function(e,t,s){e.exports={pagination:"Pagination_pagination__19jvg",pagination__btn:"Pagination_pagination__btn__17JyP",current:"Pagination_current__2VAjs",next:"Pagination_next__1-Rhl",prev:"Pagination_prev__1W0Fx"}},47:function(e,t,s){e.exports={header:"Header_header__1v0yI",header__logo:"Header_header__logo___qdaS",header__avatar:"Header_header__avatar__RykUY",header__login:"Header_header__login__1omy8",logout:"Header_logout__28K7C",unknown:"Header_unknown__23H9K"}},89:function(e,t,s){e.exports={loginForm__error:"Login_loginForm__error__1Qqgt"}},94:function(e,t,s){e.exports={postForm:"Textarea_postForm__ylSBT",error:"Textarea_error__2WeEN"}},95:function(e,t,s){e.exports={app:"App_app__3BT4Y",content:"App_content__11LHs"}}},[[286,1,2]]]);
//# sourceMappingURL=main.641ab2de.chunk.js.map